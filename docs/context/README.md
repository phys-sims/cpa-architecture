# Context system for `cpa-sim`

This directory gives agents a **stable, low-drift dependency context** for `cpa-sim` work.

## Goals
- Keep a curated set of dependency contracts in one place.
- Snapshot upstream docs so agents can reason from local files.
- Make drift visible through periodic syncs in CI.

## Rules
1. Read `reading-list.md` before making `cpa-sim` dependency-facing changes.
2. Treat `deps/*.md` as **maintained contract summaries** written for `cpa-sim`.
3. Treat `snapshots/` as **read-only upstream mirrors** generated by `tools/sync_context.py`.
4. Do not edit files under `snapshots/` by hand; update `sources.yml` and rerun sync instead.
5. If a contract changes upstream, update both:
   - the relevant `deps/*.md` summary,
   - and (if needed) `sources.yml` snapshot paths.
6. Keep assumptions explicit. If unknown, mark as "TBD" instead of implying guarantees.

## Sync workflow
- Source-of-truth config: `docs/context/sources.yml`.
- Sync script: `python tools/sync_context.py`.
- CI automation: `.github/workflows/sync-context.yml` (weekly + manual).
